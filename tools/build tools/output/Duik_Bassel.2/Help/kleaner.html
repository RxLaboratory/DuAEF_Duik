<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <meta name="author" content="Nicolas Dufresne and contributors">
  <link rel="canonical" href="http://rainboxlab.org/kleaner.html">
  <link rel="shortcut icon" href="img/favicon.ico">
  <title>Kleaner - Duik Bassel.2<br />Documentation<br />v16.2.24</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700" />

  <link rel="stylesheet" href="css/theme.css" />
  <link rel="stylesheet" href="css/theme_extra.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css" />
  <link href="style.css" rel="stylesheet" />
  <link href="video.css" rel="stylesheet" />
  
  <script>
    // Current page data
    var mkdocs_page_name = "Kleaner";
    var mkdocs_page_input_path = "kleaner.md";
    var mkdocs_page_url = "/kleaner.html";
  </script>
  
  <script src="js/jquery-2.1.1.min.js" defer></script>
  <script src="js/modernizr-2.8.3.min.js" defer></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script> 
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
        <a href="." class="icon icon-home"> Duik Bassel.2<br />Documentation<br />v16.2.24</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="./search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="index.html">Home</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="tutorials.html">Tutorials</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="printed-user-guide.html">Printed User Guide</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Introduction</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="preamble.html">Preamble</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="duaef.html">DuAEF</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="should-i-use-duik.html">Should I use Duik?</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="contributing-guide.html">Contribution</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="bassel.html">Bassel</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="license.html">User License</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="be-annoying.html">Be Annoying!</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="install-duik.html">Installation</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">First look</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="first-look-at-duik.html">Introduction</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="duik-cmd.html">Duik Cmd</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="notes-editor.html">Notes editor</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="contextual-help.html">Contextual help</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="performance.html">Performance</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Rigging</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="rigging.html">Introduction</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="#">Structures</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="structures.html">Introduction</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="create-structures.html">Create Structures</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="structure-tools.html">Structure Tools</a>
                </li>
    </ul>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="#">Constraints</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="constraints.html">Introduction</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="autorig.html">Autorig & IK</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="connector.html">Connector</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="animation-blender-setup.html">Animation Blender</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="bones.html">Bones</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="auto-parent.html">Auto-Parent</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="parent-constraint.html">Parent Constraint</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="parent-accross-compositions.html">Parent Accross Comps</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="path-constraint.html">Path Constraint</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="position-constraint.html">Position Constraint</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="orientation-constraint.html">Orientation Constraint</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="duik-list.html">List</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="expose-transform.html">Expose Transform</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="zero.html">Zero</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="lock-property.html">Lock Property</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="separate-dimensions.html">Separate Dimensions</a>
                </li>
    </ul>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="#">Controllers</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="controllers.html">Introduction</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="controller-tools.html">Controller Tools</a>
                </li>
    </ul>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Automations</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="automations.html">Introduction</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="blink.html">Blink</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="effector.html">Effector</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="effector-map.html">Effector Map</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="kleaner.html">Kleaner</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="duik-list.html">List</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="looper.html">Looper</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="motion-trail.html">Motion Trail</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="move-away.html">Move Away</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="paint-rig.html">Paint Rig</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="random.html">Random</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="separate-dimensions.html">Separate Dimensions</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="kleaner.html">Spring</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="swing.html">Swing</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="time-remap.html">Time Remap</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="walk-cycle.html">Walk Cycle</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="wheel.html">Wheel</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="wiggle.html">Wiggle</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="x-sheet.html">X-Sheet</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Animation</span></p>
                <ul class="current">
                    <li class="toctree-l1"><a class="reference internal" href="animation.html">Introduction</a>
                    </li>
                    <li class="toctree-l1 current"><a class="reference internal current" href="kleaner.html">Kleaner</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#use">Use</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#effect">Effect</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#anticipation">Anticipation</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#interpolation">Interpolation</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#follow-through">Follow Through</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#spatial-options">Spatial options</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#spatial-simulation-mode">Spatial Simulation Mode</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#additional-panel">Additional Panel</a>
    </li>
    </ul>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="copy-paste-animation.html">Copy/Paste</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="keyframe-tools.html">Keyframe Tools</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="ik-fk-switch.html">IK/FK Switch</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="animation-blender.html">Animation Blender</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="motion-trail.html">Motion Trail</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="cel-animation.html">Cel Animation</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Camera</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="camera.html">Introduction</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="camera-rig.html">Camera Rig</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="scale-z-link.html">Scale Z-Link</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="camera-2d.html">2D Camera</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="duframe.html">Framing Guides</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="rigging-tools.html">Tools</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="sanity.html">Sanity tests</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="settings.html">Settings</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Development</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="duik-api.html">The Duik API</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="duaef.html">The Duduf After Effects Framework</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="duik-faq.html">F.A.Q.</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="duik-16-changelog.html">Changelog</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">License</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="gnu-gpl.html">GNU GPLv3</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="doc-license.html">Documentation license</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="credits.html">Credits</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="" href="https://rainboxlab.org/about/contact/">Contact</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="" href="https://rainboxlab.org/about/donate/">Donate</a>
                    </li>
                </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href=".">Duik Bassel.2<br />Documentation<br />v16.2.24</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href=".">Docs</a> &raquo;</li>
    
      
        
          <li>Animation &raquo;</li>
        
      
    
    <li>Kleaner</li>
    <li class="wy-breadcrumbs-aside">
      
        <a href="https://github.com/Rainbox-dev/DuAEF_Duik_Docs/tree/master/src/docs/kleaner.md"> Edit on Duik-Docs</a>
      
    </li>
  </ul>
  
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h2 id="kleaner-and-spring"><img alt="Kleaner Icon" src="img/duik-icons/kleaner-icon-r.png" /> Kleaner and Spring</h2>
<p>The <em>Kleaner</em> is a tool to automatically clean the selected animations.<br />
It removes unnecessary keyframes (keyframes which do not result in any animation), and generates and controls <strong>anticipations</strong>, <strong>interpolations</strong> and <strong>follow-through</strong> of the animations.<br />
With the kleaner, you don&rsquo;t have to work on keyframes interpolations anymore, and you don&rsquo;t even have to animate anticipations and follow-through by hand. You just have to add some keyframes, keep them linear, and tweak the settings of the kleaner, which will automatically generate all of these for you.</p>
<p>After having removed unnecessarry keyframes, it works with an expression which is controlled by an effect.</p>
<p><img alt="" src="img/examples/cart.gif" /></p>
<h3 id="use">Use</h3>
<ol>
<li>Select the keyframes of the animation you want to clean.</li>
<li>Click on the <img alt="" src="img/duik-icons/automation/w18_broom_r.png" /> <em>Kleaner</em> or the <img alt="" src="img/duik-icons/automation/spring-icon20-r.png" /> <em>Spring</em> button.</li>
</ol>
<p>One effect is created for all selected properties of the same layer. That means all properties will be controlled by the same values. If you need different values for several properties, create a new kleaner for each one of them.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Using the <em>Spring</em> button instead of the <em>Kleaner</em> button does not change the effect which is applied, it is exactly the same. The only difference is in the default values of the effect: with the spring, the anticipation and smart interpolation are disabled, and the spatial options are set to <em>Basic</em> instead of <em>Simulated</em>.</p>
</div>
<h3 id="effect">Effect</h3>
<p><img alt="" src="img/duik-screenshots/S-Animation/kleaner_effect.png" /></p>
<p>The effect is used to control each part of the animation.</p>
<p><img alt="" src="img/duik-screenshots/S-Animation/kleaner_explanation1.png" /></p>
<p>Within the effect, you can teak each part with individual settings. The Kleaner will automatically adapt to your animation.</p>
<p><img alt="" src="img/duik-screenshots/S-Animation/kleaner_explanation2.png" /></p>
<p>Use the checkboxes to (de)activate any part of the automation, and adjust the details in each section.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>You can animate these checkboxes to use <em>anticipation</em> or <em>follow through</em> only at specific times of your animation.</p>
</div>
<p><img alt="" src="img/duik-screenshots/S-Animation/kleaner_effect_details.png" /></p>
<h4 id="anticipation">Anticipation</h4>
<p>The anticipation is the motion which happens before the beginning of the actual animation. It should happen only on living characters, inanimate objects don&rsquo;t have anticipation in their movements.<br />
You can adjust the <em>duration</em> (in seconds) and the <em>amplitude</em> of this specific movement.</p>
<h4 id="interpolation">Interpolation</h4>
<p>The kleaner automatically smoothes your animation, and the result is very fluid. Adjusting the <em>Slow In</em> and <em>Slow Out</em> values changes the way the animation starts and stops, or makes sharp turns.<br />
Usually, a living character has a lower <em>Slow Out</em> and a higher <em>Slow In</em>. These values also change depending on the weight of the object: heavier objects and characters have higher <em>Slow Ins and Outs</em>.</p>
<h4 id="follow-through">Follow Through</h4>
<p>Follow Through happens when the animation comes to a stop; it&rsquo;s the momentum of the object, which makes it &ldquo;bounce&rdquo; at the end of the movement, going a bit to far away and getting back to its stop.</p>
<ul>
<li>
<p>The elasticity controls the frequency and the amplitude of this motion. A higher elasticity generates a faster and smaller movement.</p>
</li>
<li>
<p>The Damping controls how long it takes for the animation to fully stop. A higher value will make it stop sooner. At 0, the movement never stops.</p>
</li>
</ul>
<p>For both these values, you can add some randomness: this means each property controlled by this kleaner effects will have a slightly different motion, which looks more natural.</p>
<p>Use the bounce checkbox to make the object bounce back at the value where it should stop, like a ball bouncing on the floor.</p>
<p><img alt="" src="img/examples/bounce.png" /><br />
The bounce algorithm will make sure each bounce won&rsquo;t happen in-between frames to make sure the contacts between objects are visible.</p>
<h4 id="spatial-options">Spatial options</h4>
<p>For multi-dimensionnal properties, you can adjust the spatial options. By default, the kleaner will not adjust the interpolation of these, letting you work the trajectories in After Effects.  </p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Use the kleaner on some Puppet Pins and switch the mode to &ldquo;Simulation&rdquo;, then animate the position of the layer. This is a quick and easy way to animate soft bodies!</p>
</div>
<h4 id="spatial-simulation-mode">Spatial Simulation Mode</h4>
<p>When set to the &ldquo;Simulation&rdquo; mode, the follow through of the spatial properties will take the real movement of the layer into account when it&rsquo;s computed (and not only the keyframes of the property). The simulation also activates more options and behaviour for the property:</p>
<ul>
<li>
<p>Overlap/drag: This is another important animation principle: each property moves a bit after its parent. When this option is enabled, the Kleaner will adjust the movement of the spatial properties according to the movement of the parents of the layer, so they will have some overlapping motion. You can set the duration of this overlap.</p>
</li>
<li>
<p>Soft Body: when this option is enabled, the Kleaner automatically adjusts the follow-through parameters and the overlap duration of the spatial properties according to their distance to the anchor point of the layer. This means there&rsquo;s a short overlap between the spatial properties and the layer itself, and their elasticity will be a bit lower. This can be adjusted with the flexibility slider.</p>
</li>
</ul>
<p>If you need to activate the motion blur for the layer, you may need to raise the Motion Blur precision if the Kleaner is in &ldquo;Simulation&rdquo; Mode.</p>
<div class="admonition hint">
<p class="admonition-title">Hint</p>
<p>All these values can be animated!</p>
</div>
<h3 id="additional-panel">Additional Panel</h3>
<p><img alt="Kleaner panel" src="img/duik-screenshots/S-Animation/S-Animation-Keyframes/Kleaner-optn.PNG" /></p>
<ul>
<li>Remove unnecessary keyframes:<br />
  Check or uncheck the checkbox to activate or deactivate this step when you run the &ldquo;Kleaner&rdquo;</li>
<li>Separate Dimensions:<br />
  In case you add the kleaner on multi-dimensionnal properties, you can check this option to separate the dimensions first, and control separately each axis.</li>
</ul>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="copy-paste-animation.html" class="btn btn-neutral float-right" title="Copy/Paste">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="animation.html" class="btn btn-neutral" title="Introduction"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
      <p>Copyright © 2018-2020 Rainbox Laboratory and Nicolas Dufresne</p>
    
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
      
        <span><a href="animation.html" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="copy-paste-animation.html" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>
    <script>var base_url = '.';</script>
    <script src="js/theme.js" defer></script>
      <script src="video.js" defer></script>
      <script src="search/main.js" defer></script>
    <script defer>
        window.onload = function () {
            SphinxRtdTheme.Navigation.enable(true);
        };
    </script>

</body>
</html>
